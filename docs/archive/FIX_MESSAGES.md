# תיקון בעיות יצירת הודעות

## 🔍 בדיקות מהירות

### 1. בדוק שהבקאנד רץ
```bash
# פתח בדפדפן
http://localhost:8000/api/health
```
**אמור לראות:** `{"status":"healthy",...}`

### 2. בדוק שיש GROQ_API_KEY
```bash
cd backend
python3 -c "import os; print('GROQ_API_KEY:', 'מוגדר ✅' if os.getenv('GROQ_API_KEY') else 'לא מוגדר ❌')"
```

**אם לא מוגדר:**
1. צור קובץ `.env` בתיקיית `backend/`
2. הוסף: `GROQ_API_KEY=your_groq_api_key_here`
3. הפעל מחדש את השרת

### 3. בדוק שיש אנשי קשר
```bash
# פתח בדפדפן
http://localhost:8000/api/contacts
```
**אמור לראות:** רשימה של אנשי קשר (או `[]` אם אין)

**אם אין:**
1. פתח את האתר: `http://localhost:3000/contacts`
2. הוסף איש קשר חדש

### 4. בדוק יצירת הודעה ידנית
```bash
cd backend
python3 test_message_generation.py
```

זה יבדוק את כל התהליך ויראה לך איפה הבעיה.

---

## 🐛 בעיות נפוצות

### בעיה: "מפתח GROQ API לא הוגדר"
**פתרון:**
1. צור `backend/.env`
2. הוסף: `GROQ_API_KEY=your_key`
3. הפעל מחדש את השרת

### בעיה: "איש קשר לא נמצא"
**פתרון:**
1. הוסף איש קשר דרך `/contacts`
2. נסה שוב ליצור הודעה

### בעיה: ההודעה לא נוצרת
**פתרון:**
1. פתח Developer Tools (F12)
2. בדוק את Console לשגיאות
3. בדוק את Network tab - האם הבקשה נשלחת?
4. מה קוד התגובה? (200 = טוב, אחרת = שגיאה)

### בעיה: שגיאת CORS
**פתרון:**
- ודא שה-backend רץ
- ודא שה-CORS מוגדר (כבר מוגדר)

---

## ✅ בדיקת זרימה מלאה

1. ✅ Backend רץ על פורט 8000
2. ✅ Frontend רץ על פורט 3000/3001/3002
3. ✅ GROQ_API_KEY מוגדר
4. ✅ יש לפחות איש קשר אחד
5. ✅ פתח `/messages`
6. ✅ בחר איש קשר
7. ✅ לחץ "צור הודעה עם AI"
8. ✅ בדוק את הקונסול לשגיאות

---

## 🧪 הרצת בדיקה אוטומטית

```bash
cd backend
python3 test_message_generation.py
```

הסקריפט יבדוק הכל ויראה לך איפה הבעיה.

