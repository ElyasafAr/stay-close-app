# מדריך בדיקות - Stay Close

## 🔍 בדיקת תקינות האתר

### 1️⃣ בדיקת Backend

#### בדיקת שהשרת רץ:
```bash
# פתח בדפדפן
http://localhost:8000/api/health
```

**אמור לראות:**
```json
{"status":"healthy","timestamp":"..."}
```

#### בדיקת יצירת הודעה:
```bash
# קודם צריך ליצור איש קשר
curl -X POST http://localhost:8000/api/contacts \
  -H "Content-Type: application/json" \
  -d '{"name":"יוסי כהן","email":"yossi@example.com"}'

# עכשיו נסה ליצור הודעה (החלף 1 ב-ID של איש הקשר)
curl -X POST http://localhost:8000/api/messages/generate \
  -H "Content-Type: application/json" \
  -d '{"contact_id":1,"message_type":"checkin","tone":"friendly"}'
```

### 2️⃣ בדיקת Frontend

#### בדיקת עמוד בית:
- פתח: `http://localhost:3000` (או הפורט שהשרת מציג)
- אמור לראות את עמוד הבית

#### בדיקת ניהול אנשי קשר:
- פתח: `http://localhost:3000/contacts`
- נסה להוסיף איש קשר
- בדוק שהנתונים נשמרים

#### בדיקת יצירת הודעות:
- פתח: `http://localhost:3000/messages`
- בחר איש קשר
- לחץ על "צור הודעה עם AI"
- בדוק אם ההודעה נוצרת

### 3️⃣ בדיקת שגיאות נפוצות

#### שגיאה: "מפתח GROQ API לא הוגדר"
**פתרון:**
1. צור קובץ `.env` בתיקיית `backend/`
2. הוסף: `GROQ_API_KEY=your_key_here`
3. הפעל מחדש את השרת

#### שגיאה: "איש קשר לא נמצא"
**פתרון:**
1. ודא שיש לפחות איש קשר אחד במערכת
2. פתח `/contacts` והוסף איש קשר
3. נסה שוב ליצור הודעה

#### שגיאה: CORS
**פתרון:**
- ודא שה-backend רץ
- ודא שה-CORS מוגדר נכון (כבר מוגדר)

#### הדף לא נטען
**פתרון:**
1. פתח Developer Tools (F12)
2. בדוק את Console לשגיאות
3. בדוק את Network tab
4. מחק `.next` והפעל מחדש

### 4️⃣ בדיקת זרימת העבודה המלאה

1. ✅ פתח את האתר
2. ✅ הוסף איש קשר חדש
3. ✅ פתח את מסך ההודעות
4. ✅ בחר את איש הקשר
5. ✅ בחר סוג הודעה וטון
6. ✅ לחץ על "צור הודעה עם AI"
7. ✅ בדוק שההודעה נוצרת
8. ✅ העתק את ההודעה

### 5️⃣ בדיקת שמירת נתונים

1. הוסף איש קשר
2. עצור את השרת (Ctrl+C)
3. הפעל מחדש את השרת
4. בדוק שהאיש קשר עדיין קיים

---

## 🐛 דיווח על בעיות

אם משהו לא עובד, שלח:
1. מה השגיאה (מהקונסול או מהדף)
2. מה ניסית לעשות
3. מה קרה (או לא קרה)

